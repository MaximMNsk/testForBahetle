# testForBahetle

Общие требования:
1. SPA
2. Собирать объявления из одного раздела на do.ngs.ru
3. Сохранять в локальное хранилище
4. Интерфейс просмотра/поиска объявлений
5. Хранить раздел, заглавие, описание.

Архитектура:
СУБД - PostgreSQL, v.10.6
Back - YYI2, v.2.0.16
Front - Angular v.7

Схема взаимодействия:
1. Фронт делает к бэку по API 2 типа запросов - обновление записей в БД и вывод сохраненных записей.
2. Бэк предоставляет API. 
3. Обновление записей в БД - запрос по сохраненному URL, выбор и парсинг записей, upsert в БД, выдача в поток API инфо о количестве измененных+добавленных записей.
4. Вывод сохраненных записей - выбор записей согласно запросу по API из БД, выдача результата в поток API.
5. Бэк работает с базой через соответствующий драйвер.


Установка:
DB:
- Устанавливаем дефолтный дистрибутив последней версии PostgreSQL
- В БД выполняем запросы из sql.sql

Back:
- YYI2 распаковать в корень сервера
- В YYI2 зашиты все необходимые библиотеки

Front:
- Распаковать в любую директорию на сервере
- В index.html изменить атрибут href тега base на путь от имени сервера. Т.е. если приложение в http://localhost/test-b, то атрибут = /test-b/
- В main.js - заменить localhost на имя web-сервера, на котором расположен бэк.

Apache:
- Проверить, что mod_rewrite включен
- Проверить, что headers_module включен

PHP:
- Проверить, что расширение php_pdo_pgsql установлено и активировано

Установка завершена.
